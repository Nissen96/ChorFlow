S(c, s) = if s.(n <= packets(file)) then
    s -> c.NEXT;
    s.mkPacket(file, n) -> c.packet;
    c.file := append(file, packet);
    s.n := n + 1;
    S(c, s); 0
else
    s -> c.END; 0
; 0,

PP(a, b) = PP(b, a); 0

c.filename -> s.filename;
s.file := readFile(filename);
c.file := emptyFile();
s.n := 0 + 3;
S(c, s); 0